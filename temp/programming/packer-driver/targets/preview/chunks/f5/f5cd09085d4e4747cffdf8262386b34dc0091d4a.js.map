{"version":3,"sources":["file:///Users/vladislavkvinto/StickMan/assets/scripts/MainMenu.ts"],"names":["_decorator","Component","director","Node","Tween","Vec3","ccclass","property","MainMenu","animationsCompleted","start","initializeAnimation","playerCurrentY","player","getPosition","y","platformCurrentY","platform","to","position","easing","call","checkAllAnimationsCompleted","loadScene","startGame","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;;;;;;;;OACjD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;0BAGjBQ,Q,WADZF,OAAO,CAAC,UAAD,C,UAEHC,QAAQ,CAACJ,IAAD,C,UAGRI,QAAQ,CAACJ,IAAD,C,2BALb,MACaK,QADb,SAC8BP,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAO5BQ,mBAP4B,GAON,CAPM;AAAA;;AAOF;AAElCC,QAAAA,KAAK,GAAG,CACP;;AAEOC,QAAAA,mBAAmB,GAAG;AAC1B,cAAMC,cAAc,GAAG,KAAKC,MAAL,CAAYC,WAAZ,GAA0BC,CAAjD;AACA,cAAMC,gBAAgB,GAAG,KAAKC,QAAL,CAAcH,WAAd,GAA4BC,CAArD;AAEA,cAAIX,KAAJ,CAAU,KAAKS,MAAf,EACKK,EADL,CACQ,GADR,EACa;AAAEC,YAAAA,QAAQ,EAAE,IAAId,IAAJ,CAAS,CAAC,GAAV,EAAeO,cAAf,EAA+B,CAA/B;AAAZ,WADb,EAC8D;AAAEQ,YAAAA,MAAM,EAAE;AAAV,WAD9D,EAEKC,IAFL,CAEU,MAAM;AACR,iBAAKC,2BAAL;AACH,WAJL,EAKKZ,KALL;AAOA,cAAIN,KAAJ,CAAU,KAAKa,QAAf,EACKC,EADL,CACQ,GADR,EACa;AAAEC,YAAAA,QAAQ,EAAE,IAAId,IAAJ,CAAS,CAAC,GAAV,EAAeW,gBAAf,EAAiC,CAAjC;AAAZ,WADb,EACgE;AAAEI,YAAAA,MAAM,EAAE;AAAV,WADhE,EAEKC,IAFL,CAEU,MAAM;AACR,iBAAKC,2BAAL;AACH,WAJL,EAKKZ,KALL;AAMH;;AAEOY,QAAAA,2BAA2B,GAAG;AAClC,eAAKb,mBAAL;;AACA,cAAI,KAAKA,mBAAL,IAA4B,CAAhC,EAAmC;AAAG;AAClCP,YAAAA,QAAQ,CAACqB,SAAT,CAAmB,WAAnB;AACH;AACJ;;AAEOC,QAAAA,SAAS,GAAG;AAChB,eAAKf,mBAAL,GAA2B,CAA3B,CADgB,CACe;;AAC/B,eAAKE,mBAAL;AACH;;AAEDc,QAAAA,MAAM,CAACC,SAAD,EAAoB,CACzB;;AA5CmC,O","sourcesContent":["import { _decorator, Component, director, Node, Tween, Vec3 } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('MainMenu')\nexport class MainMenu extends Component {\n    @property(Node)\n    player: Node;\n\n    @property(Node)\n    platform: Node;\n\n    private animationsCompleted = 0;  // Счетчик завершенных анимаций\n\n    start() {\n    }\n\n    private initializeAnimation() {\n        const playerCurrentY = this.player.getPosition().y;\n        const platformCurrentY = this.platform.getPosition().y;\n\n        new Tween(this.player)\n            .to(1.0, { position: new Vec3(-350, playerCurrentY, 0) }, { easing: 'quadInOut' })\n            .call(() => {\n                this.checkAllAnimationsCompleted();\n            })\n            .start();\n\n        new Tween(this.platform)\n            .to(1.0, { position: new Vec3(-350, platformCurrentY, 0) }, { easing: 'quadInOut' })\n            .call(() => {\n                this.checkAllAnimationsCompleted();\n            })\n            .start();\n    }\n\n    private checkAllAnimationsCompleted() {\n        this.animationsCompleted++;\n        if (this.animationsCompleted >= 2) {  // Проверяем, что обе анимации завершены\n            director.loadScene(\"MainScene\");\n        }\n    }\n\n    private startGame() {\n        this.animationsCompleted = 0;  // Сброс счетчика\n        this.initializeAnimation();\n    }\n\n    update(deltaTime: number) {\n    }\n}\n"]}